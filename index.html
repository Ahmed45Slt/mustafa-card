<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    
    <!-- Primary Meta Tags -->
    <title>PIÃˆCES MUSTAFA - Ù‚Ø·Ø¹ ØºÙŠØ§Ø± Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª | Ù…ØµØ·ÙÙ‰ Ø·Ù†Ø¬Ø© Ø§Ù„Ù…ØºØ±Ø¨</title>
    <meta name="description" content="Ù‚Ø·Ø¹ ØºÙŠØ§Ø± Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª Ù…ØµØ·ÙÙ‰ - Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ©ØŒ Ø£Ø³Ø¹Ø§Ø± Ù…Ù†Ø§ÙØ³Ø©ØŒ Ø®Ø¯Ù…Ø© Ù…Ù…ØªØ§Ø²Ø©. Ù†ÙˆÙØ± Ø¬Ù…ÙŠØ¹ Ù‚Ø·Ø¹ ØºÙŠØ§Ø± Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª Ø¨Ø¬ÙˆØ¯Ø© ØªØ¶Ù…Ù† Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ø«Ù‚Ø©. Ø·Ù†Ø¬Ø©ØŒ Ø§Ù„Ù…ØºØ±Ø¨">
    <meta name="keywords" content="Ù‚Ø·Ø¹ ØºÙŠØ§Ø± Ø³ÙŠØ§Ø±Ø§Øª, Ù…ØµØ·ÙÙ‰, Ø·Ù†Ø¬Ø©, Ø§Ù„Ù…ØºØ±Ø¨, Ø¥ØµÙ„Ø§Ø­ Ø³ÙŠØ§Ø±Ø§Øª, ØµÙŠØ§Ù†Ø©, Ù‚Ø·Ø¹ ØºÙŠØ§Ø± Ø£ØµÙ„ÙŠØ©, Ø³ÙŠØ§Ø±Ø§Øª ÙŠØ§Ø¨Ø§Ù†ÙŠØ©, Ø³ÙŠØ§Ø±Ø§Øª Ø£ÙˆØ±ÙˆØ¨ÙŠØ©">
    <meta name="author" content="Mustafa Auto Parts">
    
    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://piecesmustafa.netlify.app/">
    <meta property="og:title" content="PIÃˆCES MUSTAFA - Ù‚Ø·Ø¹ ØºÙŠØ§Ø± Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª">
    <meta property="og:description" content="Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ©ØŒ Ø£Ø³Ø¹Ø§Ø± Ù…Ù†Ø§ÙØ³Ø©ØŒ Ø®Ø¯Ù…Ø© Ù…Ù…ØªØ§Ø²Ø© Ù„Ø¬Ù…ÙŠØ¹ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª">
    <meta property="og:image" content="https://piecesmustafa.netlify.app/icon.png">
    <meta property="og:image:width" content="512">
    <meta property="og:image:height" content="512">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://piecesmustafa.netlify.app/">
    <meta name="twitter:title" content="PIÃˆCES MUSTAFA - Ù‚Ø·Ø¹ ØºÙŠØ§Ø± Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª">
    <meta name="twitter:description" content="Ù‚Ø·Ø¹ ØºÙŠØ§Ø± Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª Ø¨Ø¬ÙˆØ¯Ø© ÙˆØ£Ù…Ø§Ù† ÙÙŠ Ø·Ù†Ø¬Ø©ØŒ Ø§Ù„Ù…ØºØ±Ø¨">
    <meta name="twitter:image" content="https://piecesmustafa.netlify.app/icon.png">
    
    <!-- PWA -->
    <link rel="manifest" href="manifest.json" crossorigin="use-credentials">
    <meta name="theme-color" content="#0a4f57" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="#083a40" media="(prefers-color-scheme: dark)">
    <link rel="icon" href="icon.png" type="image/png">
    <link rel="apple-touch-icon" href="icon.png">
    
    <!-- Resource Preconnections -->
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://maps.googleapis.com">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" 
          crossorigin="anonymous" 
          referrerpolicy="no-referrer">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&family=Almarai:wght@300;400;700&display=swap" rel="stylesheet">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "AutoPartsStore",
        "name": "PIÃˆCES MUSTAFA",
        "description": "Ù…ØªØ¬Ø± Ù‚Ø·Ø¹ ØºÙŠØ§Ø± Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª Ù…ØµØ·ÙÙ‰ ÙÙŠ Ø·Ù†Ø¬Ø©ØŒ Ø§Ù„Ù…ØºØ±Ø¨",
        "url": "https://piecesmustafa.netlify.app/",
        "telephone": "+212668343724",
        "email": "Piecemustafa9@gmail.com",
        "address": {
            "@type": "PostalAddress",
            "streetAddress": "Ø´Ø§Ø±Ø¹ Ø§Ù„Ø¹Ø¯Ø§Ù„Ø© Ù„Ø¹Ø²ÙŠØ¨ Ø­Ø§Ø¬ Ù‚Ø¯ÙˆØ± Ø¥Ù‚Ø§Ù…Ø© Ø§Ù„Ø¨Ø³ØªØ§Ù† 1",
            "addressLocality": "Ø·Ù†Ø¬Ø©",
            "addressCountry": "Ø§Ù„Ù…ØºØ±Ø¨"
        },
        "openingHours": "Mo-Su 09:00-20:00",
        "priceRange": "$$",
        "image": "icon.png",
        "sameAs": [
            "https://www.facebook.com/profile.php?id=61562492412368",
            "https://www.instagram.com/piecemustafa",
            "https://www.tiktok.com/@piecemustafa",
            "https://youtube.com/@piecemustafa",
            "https://x.com/piecemustafa"
        ]
    }
    </script>
    
    <!-- CSS Styles -->
    <style>
        :root {
            --bg: #0a4f57;
            --bg-dark: #083a40;
            --accent: #00a896;
            --accent-light: #0dc9b7;
            --light: #e9eef1;
            --white: #ffffff;
            --shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            --shadow-hover: 0 8px 25px rgba(0, 0, 0, 0.15);
            --radius: 15px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Tajawal', 'Almarai', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4e8f0 100%);
            color: #333;
            line-height: 1.6;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .container {
            max-width: 430px;
            margin: auto;
            background: var(--bg);
            min-height: 100vh;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 50px rgba(0, 0, 0, 0.1);
        }

        .container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 300px;
            background: linear-gradient(135deg, var(--bg) 0%, var(--bg-dark) 100%);
            z-index: 1;
            border-radius: 0 0 50% 50%;
        }

        /* Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© */
        .header {
            text-align: center;
            padding: 30px 20px;
            color: var(--white);
            position: relative;
            z-index: 2;
            animation: fadeInDown 0.8s ease;
        }

        .logo-container {
            position: relative;
            width: 150px;
            height: 150px;
            margin: 0 auto 20px;
            animation: float 6s ease-in-out infinite;
        }

        .logo {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: var(--white);
            padding: 1px;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
            border: 4px solid var(--accent);
            transition: var(--transition);
        }

        .logo:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(0, 168, 150, 0.3);
        }

        .logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: 50%;
            transition: opacity 0.3s ease;
        }

        .logo img.loaded {
            opacity: 1;
        }

        .logo img:not(.loaded) {
            opacity: 0;
        }

        .logo-badge {
            position: absolute;
            bottom: -5px;
            right: -5px;
            background: var(--accent);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            border: 3px solid var(--white);
            animation: pulse 2s infinite;
        }

        .header h1 {
            font-size: 1.6rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            font-size: 0.95rem;
            opacity: 0.9;
            max-width: 320px;
            margin: 0 auto;
        }

        .tags {
            display: flex;
            justify-content: center;
            gap: 8px;
            flex-wrap: wrap;
            margin-top: 15px;
        }

        .tag {
            background: rgba(255, 255, 255, 0.15);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            backdrop-filter: blur(10px);
            transition: var(--transition);
        }

        .tag:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-2px);
        }

        /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø³Ø±ÙŠØ¹ */
        .quick-actions {
            position: relative;
            z-index: 5;
            padding: 0 20px;
            margin-top: -20px;
            animation: slideUp 0.8s ease 0.2s both;
        }

        .actions-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            background: var(--white);
            padding: 20px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
        }

        .action-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px 10px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 12px;
            text-decoration: none;
            color: var(--bg);
            transition: var(--transition);
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .action-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--accent);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .action-btn:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
            border-color: var(--accent);
        }

        .action-btn:hover::before {
            transform: scaleX(1);
        }

        .action-btn i {
            font-size: 28px;
            color: var(--accent);
            margin-bottom: 10px;
            transition: var(--transition);
        }

        .action-btn:hover i {
            transform: scale(1.2);
        }

        .action-btn span {
            font-weight: 700;
            font-size: 14px;
        }

        .whatsapp-btn {
            grid-column: span 2;
            background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
            color: var(--white) !important;
        }

        .whatsapp-btn i {
            color: var(--white) !important;
        }

        /* Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù„ØºØ© */
        .lang-selector {
            text-align: center;
            margin: 25px 20px 0;
            position: relative;
            z-index: 2;
        }

        .lang-buttons {
            display: inline-flex;
            background: rgba(255, 255, 255, 0.1);
            padding: 5px;
            border-radius: 50px;
            backdrop-filter: blur(10px);
        }

        .lang-btn {
            border: none;
            background: transparent;
            color: white;
            padding: 8px 18px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 11px;
            font-weight: 600;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .lang-btn.active {
            background: var(--accent);
            box-shadow: 0 4px 15px rgba(0, 168, 150, 0.3);
        }

        .lang-btn:hover:not(.active) {
            background: rgba(255, 255, 255, 0.15);
        }

        /* Ø²Ø± Ø§Ù„ØªØ«Ø¨ÙŠØª */
        .btn-install {
            position: fixed;
            bottom: 80px;
            inset-inline-end: 20px;
            background: linear-gradient(135deg, #0a4f57 0%, #00a896 100%);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 50px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(10, 79, 87, 0.3);
            z-index: 999;
            display: none;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
            font-family: 'Tajawal', sans-serif;
            opacity: 0;
            transform: translateY(20px);
        }

        .btn-install.show {
            display: flex;
            opacity: 1;
            transform: translateY(0);
        }

        .btn-install:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(10, 79, 87, 0.4);
        }

        .btn-install i {
            font-size: 18px;
        }

        /* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
        .content {
            background: var(--white);
            margin-top: 30px;
            border-radius: 40px 40px 0 0;
            padding: 25px 20px;
            min-height: 500px;
            position: relative;
            z-index: 2;
            animation: slideUp 0.8s ease 0.4s both;
        }

        /* Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø®Ø§ØµØ© */
        .offers-section {
            margin-bottom: 25px;
        }

        .section-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .section-header h3 {
            color: var(--bg);
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .offers-slider {
            position: relative;
            overflow: hidden;
            border-radius: var(--radius);
        }

        .offers-container {
            display: flex;
            transition: transform 0.5s ease;
        }

        .offer-card {
            flex: 0 0 100%;
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            padding: 20px;
            border-radius: var(--radius);
            border-right: 5px solid #ffc107;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .offer-card::before {
            content: 'Ø¹Ø±Ø¶ Ø®Ø§Øµ';
            position: absolute;
            top: 10px;
            left: 10px;
            background: #ffc107;
            color: #856404;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .offer-text {
            color: #856404;
            font-weight: 600;
            line-height: 1.6;
            margin-top: 25px;
            font-size: 1rem;
        }

        .slider-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 15px;
        }

        .slider-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #ddd;
            cursor: pointer;
            transition: var(--transition);
        }

        .slider-dot.active {
            background: var(--accent);
            transform: scale(1.2);
        }

        /* Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…ØªØ¬Ø± */
        .info-cards {
            margin-bottom: 25px;
        }

        .info-card {
            background: var(--white);
            padding: 20px;
            border-radius: var(--radius);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 15px;
            box-shadow: var(--shadow);
            border: 2px solid transparent;
            transition: var(--transition);
            cursor: pointer;
        }

        .info-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-hover);
            border-color: var(--accent);
        }

        .info-card i {
            color: var(--accent);
            font-size: 22px;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 168, 150, 0.1);
            border-radius: 50%;
            flex-shrink: 0;
        }

        .info-content {
            flex: 1;
        }

        .info-content h4 {
            color: var(--bg);
            margin-bottom: 5px;
            font-size: 1rem;
        }

        .info-content p {
            color: #666;
            font-size: 0.9rem;
        }

        /* QR Code */
        .qr-section {
            text-align: center;
            margin: 30px 0;
            padding: 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
        }

        .qr-container {
            position: relative;
            display: inline-block;
            padding: 15px;
            background: white;
            border-radius: 15px;
            margin-bottom: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .qr-container img {
            width: 140px;
            height: 140px;
            border-radius: 10px;
        }

        .qr-label {
            color: var(--bg);
            font-weight: 600;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        /* ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ */
        .social-section {
            margin: 30px 0;
        }

        .social-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-top: 20px;
        }

        .social-icon {
            width: 55px;
            height: 55px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            text-decoration: none;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            margin: 0 auto;
        }

        .social-icon:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .social-icon i {
            font-size: 20px;
            position: relative;
            z-index: 2;
        }

        .social-icon::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.1);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .social-icon:hover::before {
            opacity: 1;
        }

        .facebook { background: linear-gradient(135deg, #1877f2 0%, #0d5cb6 100%); }
        .instagram { background: linear-gradient(135deg, #e4405f 0%, #c13584 100%); }
        .tiktok { background: linear-gradient(135deg, #000000 0%, #333333 100%); }
        .youtube { background: linear-gradient(135deg, #cd201f 0%, #a71c1c 100%); }
        .twitter { background: linear-gradient(135deg, #1da1f2 0%, #0d8abc 100%); }
        .maps { background: linear-gradient(135deg, #34a853 0%, #2e8b57 100%); }

        /* Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª */
        .counter-section {
            text-align: center;
            margin: 25px 0;
            padding: 15px;
            background: linear-gradient(135deg, var(--bg) 0%, var(--bg-dark) 100%);
            border-radius: var(--radius);
            color: white;
            box-shadow: var(--shadow);
        }

        .counter-number {
            font-size: 2.5rem;
            font-weight: bold;
            margin: 10px 0;
            font-family: 'Tajawal', 'Segoe UI', Arial, sans-serif;
            animation: countUp 1s ease-out;
        }

        .counter-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        /* Ø§Ù„Ø®Ø±ÙŠØ·Ø© */
        .map-section {
            margin: 30px 0;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .map-section iframe {
            width: 100%;
            height: 250px;
            border: none;
        }

        /* Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ© */
        .privacy-link {
            text-align: center;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }

        .privacy-link a {
            color: var(--accent);
            text-decoration: none;
            font-size: 0.9rem;
        }

        .privacy-link a:hover {
            text-decoration: underline;
        }

        /* Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ */
        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--accent);
            color: var(--white);
            padding: 15px 25px;
            border-radius: 50px;
            opacity: 0;
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            z-index: 1000;
            box-shadow: 0 10px 30px rgba(0, 168, 150, 0.3);
            max-width: 350px;
            text-align: center;
            pointer-events: none;
        }

        .toast.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }

        /* Ù…Ø¤Ø´Ø± Ø§Ù„Ø§ØªØµØ§Ù„ */
        .connection-indicator {
            position: fixed;
            top: 10px;
            left: 10px;
            background: rgba(231, 76, 60, 0.9);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 12px;
            z-index: 10000;
            display: none;
            align-items: center;
            gap: 5px;
            animation: slideIn 0.3s ease;
        }

        .connection-indicator.online {
            background: rgba(46, 204, 113, 0.9);
        }

        /* Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 79, 87, 0.9);
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: var(--white);
            animation: spin 1s ease-in-out infinite;
        }

        /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø­Ø±ÙƒØ© */
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes countUp {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideIn {
            from { transform: translateX(-100%); }
            to { transform: translateX(0); }
        }

        /* Ø§Ù„ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ù‡ÙˆØ§ØªÙ */
        @media (max-width: 480px) {
            .container {
                max-width: 100%;
                min-height: 100vh;
            }
            
            .actions-grid {
                grid-template-columns: 1fr;
            }
            
            .whatsapp-btn {
                grid-column: span 1;
            }
            
            .social-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .counter-number {
                font-size: 2rem;
            }
            
            .map-section iframe {
                height: 200px;
            }
        }

        /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø¸Ù‡ÙˆØ± */
        .fade-in {
            animation: fadeIn 0.6s ease-out;
        }

        /* Ø¯Ø¹Ù… Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ† */
        @media (prefers-color-scheme: dark) {
            body {
                background: #121212;
            }
            
            .content {
                background: #1e1e1e;
                color: #e0e0e0;
            }
            
            .info-card {
                background: #2d2d2d;
                color: #e0e0e0;
            }
            
            .info-content h4 {
                color: #e0e0e0;
            }
            
            .info-content p {
                color: #b0b0b0;
            }
            
            .offer-card {
                background: linear-gradient(135deg, #2d2d2d 0%, #3d3d3d 100%);
                color: #e0e0e0;
            }
        }
    </style>
</head>

<body>
    <!-- Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
    <div class="container">
        <!-- Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© -->
        <header class="header">
            <div class="logo-container">
                <div class="logo">
                    <img src="icon.png" alt="Mustafa Auto Parts Logo" loading="lazy" width="150" height="150">
                </div>
                <div class="logo-badge">
                    <i class="fas fa-check"></i>
                </div>
            </div>
            <h1 id="title">Ø£Ø¬Ø²Ø§Ø¡ Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª Ù…ØµØ·ÙÙ‰</h1>
            <p id="slogan">Ù…Ø¹ Ù…ØµØ·ÙÙ‰ Ø§Ø®ØªØ± Ø¨ÙƒÙ„ Ø«Ù‚Ø© Ù‚Ø·Ø¹ ØºÙŠØ§Ø± Ù„Ø³ÙŠØ§Ø±ØªÙƒÙ… Ø§Ù„ØªÙŠ ØªØ¶Ù…Ù† Ù„Ùƒ Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ø¬ÙˆØ¯Ø©</p>
            
            <div class="tags">
                <div class="tag">Ù‚Ø·Ø¹ ØºÙŠØ§Ø± Ø£ØµÙ„ÙŠØ©</div>
                <div class="tag">Ø®Ø¯Ù…Ø© 24/7</div>
                <div class="tag">Ø¶Ù…Ø§Ù† Ø§Ù„Ø¬ÙˆØ¯Ø©</div>
                <div class="tag">Ø·Ù†Ø¬Ø© Ø§Ù„Ù…ØºØ±Ø¨</div>
            </div>
        </header>

        <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø³Ø±ÙŠØ¹ -->
        <section class="quick-actions" aria-label="Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø³Ø±ÙŠØ¹">
            <div class="actions-grid">
                <a href="tel:+212668343724" class="action-btn" aria-label="Ø§ØªØµØ§Ù„ Ù‡Ø§ØªÙÙŠ">
                    <i class="fas fa-phone"></i>
                    <span id="btn-call">Ø§ØªØµØ§Ù„ Ù‡Ø§ØªÙÙŠ</span>
                </a>
                
                <a href="#" id="saveContactBtn" class="action-btn" aria-label="Ø­ÙØ¸ Ø¬Ù‡Ø© Ø§Ù„Ø§ØªØµØ§Ù„">
                    <i class="fas fa-user-plus"></i>
                    <span id="btn-save">Ø­ÙØ¸ Ø¬Ù‡Ø© Ø§Ù„Ø§ØªØµØ§Ù„</span>
                </a>
                
                <a href="mailto:Piecemustafa9@gmail.com" class="action-btn" aria-label="Ø¥Ø±Ø³Ø§Ù„ Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
                    <i class="fas fa-envelope"></i>
                    <span id="btn-mail">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</span>
                </a>
                
                <a href="https://wa.me/212668343724?text=Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ…ØŒ Ø£Ø±ÙŠØ¯ Ø§Ù„Ø§Ø³ØªÙØ³Ø§Ø± Ø¹Ù† Ù‚Ø·Ø¹Ø© ØºÙŠØ§Ø±" 
                   class="action-btn whatsapp-btn" 
                   aria-label="Ù…Ø­Ø§Ø¯Ø«Ø© ÙˆØ§ØªØ³Ø§Ø¨"
                   target="_blank" 
                   rel="noopener noreferrer">
                    <i class="fab fa-whatsapp"></i>
                    <span id="btn-chat">Ù…Ø­Ø§Ø¯Ø«Ø© ÙˆØ§ØªØ³Ø§Ø¨</span>
                </a>
                
                <a href="#" id="pushToggleBtn" class="action-btn" aria-label="ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª">
                    <i class="fas fa-bell"></i>
                    <span id="pushBtnText">ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</span>
                </a>
            </div>
        </section>

        <!-- Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù„ØºØ© -->
        <nav class="lang-selector" aria-label="Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù„ØºØ©">
            <div class="lang-buttons">
                <button class="lang-btn active" onclick="setLang('ar')" aria-label="ØªØºÙŠÙŠØ± Ø§Ù„Ù„ØºØ© Ø¥Ù„Ù‰ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©">
                    ğŸ‡²ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
                </button>
                <button class="lang-btn" onclick="setLang('en')" aria-label="Change language to English">
                    ğŸ‡¬ğŸ‡§ English
                </button>
                <button class="lang-btn" onclick="setLang('fr')" aria-label="Changer la langue en FranÃ§ais">
                    ğŸ‡«ğŸ‡· FranÃ§ais
                </button>
                <button class="lang-btn" onclick="setLang('es')" aria-label="Cambiar idioma a EspaÃ±ol">
                    ğŸ‡ªğŸ‡¸ EspaÃ±ol
                </button>
            </div>
        </nav>

        <!-- Ø²Ø± ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ -->
        <button class="btn-install" id="installBtn" aria-label="ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚">
            <i class="fas fa-download"></i> ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        </button>

        <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
        <main class="content">
            <!-- Ù‚Ø³Ù… Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø®Ø§ØµØ© -->
            <section class="offers-section" aria-labelledby="offers-heading">
                <div class="section-header">
                    <h2 id="offers-heading"><i class="fas fa-tags"></i> Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø­Ø§Ù„ÙŠØ©</h2>
                    <div class="offer-indicator">
                        <i class="fas fa-fire" style="color: #ff6b6b;"></i>
                        <small>Ø¹Ø±ÙˆØ¶ Ø­ØµØ±ÙŠØ©</small>
                    </div>
                </div>
                <div class="offers-slider">
                    <div class="offers-container" id="offersContainer">
                        <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
                    </div>
                    <div class="slider-controls" id="sliderDots">
                        <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
                    </div>
                </div>
            </section>

            <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…ØªØ¬Ø± -->
            <section class="info-cards" aria-label="Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±">
                <article class="info-card" onclick="copyToClipboard('Ø´Ø§Ø±Ø¹ Ø§Ù„Ø¹Ø¯Ø§Ù„Ø© Ù„Ø¹Ø²ÙŠØ¨ Ø­Ø§Ø¬ Ù‚Ø¯ÙˆØ± Ø¥Ù‚Ø§Ù…Ø© Ø§Ù„Ø¨Ø³ØªØ§Ù† 1ØŒ Ø·Ù†Ø¬Ø©ØŒ Ø§Ù„Ù…ØºØ±Ø¨')" role="button" tabindex="0">
                    <i class="fas fa-map-marker-alt"></i>
                    <div class="info-content">
                        <h3>Ø§Ù„Ù…ÙˆÙ‚Ø¹</h3>
                        <p id="address">Ø´Ø§Ø±Ø¹ Ø§Ù„Ø¹Ø¯Ø§Ù„Ø© Ù„Ø¹Ø²ÙŠØ¨ Ø­Ø§Ø¬ Ù‚Ø¯ÙˆØ± Ø¥Ù‚Ø§Ù…Ø© Ø§Ù„Ø¨Ø³ØªØ§Ù† 1ØŒ Ø·Ù†Ø¬Ø©ØŒ Ø§Ù„Ù…ØºØ±Ø¨</p>
                    </div>
                </article>
                
                <article class="info-card">
                    <i class="fas fa-clock"></i>
                    <div class="info-content">
                        <h3>Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„</h3>
                        <p id="work-time">-- Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„ --</p>
                        <p id="next-opening" class="next-opening-time"></p>
                    </div>
                </article>
                
                <article class="info-card" onclick="copyToClipboard('+212668343724')" role="button" tabindex="0">
                    <i class="fas fa-phone"></i>
                    <div class="info-content">
                        <h3>Ø§Ù„Ù‡Ø§ØªÙ</h3>
                        <p id="phone" dir="ltr">+212 668 343 724</p>
                    </div>
                </article>
            </section>

            <!-- QR Code -->
            <aside class="qr-section" aria-label="QR Code Ù„Ù„Ù…ÙˆÙ‚Ø¹">
                <div class="qr-label">QR Code Ù„Ù„Ù…ÙˆÙ‚Ø¹</div>
                <div class="qr-container">
                    <img id="qr" src="" alt="QR Code Ù„Ù…ÙˆÙ‚Ø¹ Ù…ØµØ·ÙÙ‰ Ù„Ù‚Ø·Ø¹ ØºÙŠØ§Ø± Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª" 
                         onerror="this.src='https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://piecesmustafa.netlify.app/'">
                </div>
                <p style="color: #666; font-size: 0.95rem; margin-top: 10px; opacity: 0.9;">
                    Ø§Ù…Ø³Ø­ Ø§Ù„ÙƒÙˆØ¯ Ù„Ø²ÙŠØ§Ø±Ø© Ù…ÙˆÙ‚Ø¹Ù†Ø§ Ù…Ø¨Ø§Ø´Ø±Ø©
                </p>
            </aside>

            <!-- Ø§Ù„Ø®Ø±ÙŠØ·Ø© -->
            <section class="map-section" aria-label="Ø®Ø±ÙŠØ·Ø© Ø£Ø¬Ø²Ø§Ø¡ Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª Ù…ØµØ·ÙÙ‰ â€“ Ø·Ù†Ø¬Ø©">
                <iframe
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3329.966769807998!2d-5.8353315!3d35.7528492!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xd0b8700633272eb%3A0xef48ebf08a328a12!2z2KfZhNmF2LHYs9mK2KfYqSDYr9mF2LnYqtix2Kk!5e0!3m2!1sar!2sma!4v1709190000000"
                    width="100%"
                    height="350"
                    style="border:0;"
                    allowfullscreen
                    loading="lazy"
                    referrerpolicy="no-referrer-when-downgrade"
                    title="Ù…ÙˆÙ‚Ø¹ Ø£Ø¬Ø²Ø§Ø¡ Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª Ù…ØµØ·ÙÙ‰ Ø¹Ù„Ù‰ Ø®Ø±Ø§Ø¦Ø· Ø¬ÙˆØ¬Ù„">
                </iframe>
            </section>

            <!-- ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ -->
            <section class="social-section" aria-labelledby="social-heading">
                <h2 id="social-heading"><i class="fas fa-hashtag"></i> ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h2>
                <div class="social-grid">
                    <a class="social-icon facebook" 
                       href="https://www.facebook.com/profile.php?id=61562492412368&mibextid=ZbWKwL" 
                       target="_blank" 
                       rel="noopener noreferrer"
                       aria-label="ÙÙŠØ³Ø¨ÙˆÙƒ">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a class="social-icon instagram" 
                       href="https://www.instagram.com/piecemustafa?igsh=MXAxbm5oa3JteXdxZQ" 
                       target="_blank" 
                       rel="noopener noreferrer"
                       aria-label="Ø¥Ù†Ø³ØªØºØ±Ø§Ù…">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a class="social-icon tiktok" 
                       href="https://www.tiktok.com/@piecemustafa?_t=8qIcp087TEb&_r=1" 
                       target="_blank" 
                       rel="noopener noreferrer"
                       aria-label="ØªÙŠÙƒ ØªÙˆÙƒ">
                        <i class="fab fa-tiktok"></i>
                    </a>
                    <a class="social-icon youtube" 
                       href="https://youtube.com/@piecemustafa?si=KTln_6vcI4mk4w0h" 
                       target="_blank" 
                       rel="noopener noreferrer"
                       aria-label="ÙŠÙˆØªÙŠÙˆØ¨">
                        <i class="fab fa-youtube"></i>
                    </a>
                    <a class="social-icon twitter" 
                       href="https://x.com/piecemustafa?t=89sSgJneaZsAohr36wh1ww&s=09" 
                       target="_blank" 
                       rel="noopener noreferrer"
                       aria-label="ØªÙˆÙŠØªØ±">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a class="social-icon maps" 
                       href="https://maps.app.goo.gl/AzCbaMsazhzKSiCd9" 
                       target="_blank" 
                       rel="noopener noreferrer"
                       aria-label="Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø¹Ù„Ù‰ Ø®Ø±Ø§Ø¦Ø· Ø¬ÙˆØ¬Ù„">
                        <i class="fas fa-location-dot"></i>
                    </a>
                </div>
            </section>

            <!-- Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª -->
            <section class="counter-section" aria-label="Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª">
                <div class="counter-label" id="txt-visits">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¹Ø¯Ø¯ Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª</div>
                <div class="counter-number" id="visits">0</div>
                <div class="counter-subtitle">
                    <i class="fas fa-users"></i> Ø²ÙˆØ§Ø±Ù†Ø§ Ø§Ù„ÙƒØ±Ø§Ù…
                </div>
            </section>

            <!-- Ø±Ø§Ø¨Ø· Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ© -->
            <footer class="privacy-link">
                <a href="./privacy.html" aria-label="Ù‚Ø±Ø§Ø¡Ø© Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a>
            </footer>
        </main>
    </div>

    <!-- Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ -->
    <div class="toast" id="toast" role="alert" aria-live="polite"></div>
    
    <!-- Ù…Ø¤Ø´Ø± Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„ -->
    <div id="connectionIndicator" class="connection-indicator">
        <i class="fas fa-wifi-slash"></i>
        <span>Ø¯ÙˆÙ† Ø§ØªØµØ§Ù„</span>
    </div>

    <script type="module">
        // ============ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯Ø§Øª ============
        let firebaseFunctions = null;
        
        // Ø§Ø³ØªÙŠØ±Ø§Ø¯ Firebase Ø¨Ø´ÙƒÙ„ Ù…Ø´Ø±ÙˆØ·
        async function loadFirebase() {
            try {
                const module = await import('./firebase.js');
                firebaseFunctions = module;
                console.log('âœ… Firebase loaded successfully');
                return module;
            } catch (error) {
                console.error('âŒ Failed to load Firebase:', error);
                // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¯ÙˆØ§Ù„ Ø§ÙØªØ±Ø§Ø¶ÙŠØ© ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù„ÙØ´Ù„
                firebaseFunctions = {
                    initFirebase: () => Promise.resolve(),
                    incrementVisit: () => Promise.resolve(),
                    loadOffers: () => Promise.resolve([]),
                    loadQR: () => Promise.resolve(),
                    getAnalyticsData: () => Promise.resolve({}),
                    incrementInstall: () => Promise.resolve()
                };
                return firebaseFunctions;
            }
        }

        // ============ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø© ============
        const translations = {
            ar: {
                title: "Ø£Ø¬Ø²Ø§Ø¡ Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª Ù…ØµØ·ÙÙ‰",
                slogan: "Ù…Ø¹ Ù…ØµØ·ÙÙ‰ Ø§Ø®ØªØ± Ø¨ÙƒÙ„ Ø«Ù‚Ø© Ù‚Ø·Ø¹ ØºÙŠØ§Ø± Ù„Ø³ÙŠØ§Ø±ØªÙƒÙ… Ø§Ù„ØªÙŠ ØªØ¶Ù…Ù† Ù„Ùƒ Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ø¬ÙˆØ¯Ø©",
                address: "Ø´Ø§Ø±Ø¹ Ø§Ù„Ø¹Ø¯Ø§Ù„Ø© Ù„Ø¹Ø²ÙŠØ¨ Ø­Ø§Ø¬ Ù‚Ø¯ÙˆØ± Ø¥Ù‚Ø§Ù…Ø© Ø§Ù„Ø¨Ø³ØªØ§Ù† 1ØŒ Ø·Ù†Ø¬Ø©ØŒ Ø§Ù„Ù…ØºØ±Ø¨",
                workTime: "Ù…ÙØªÙˆØ­ Ù…Ù† 09:00 Ø¥Ù„Ù‰ 20:00 - Ø¬Ù…ÙŠØ¹ Ø£ÙŠØ§Ù… Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹",
                phone: "+212 668 343 724",
                save: "Ø­ÙØ¸ Ø¬Ù‡Ø© Ø§Ù„Ø§ØªØµØ§Ù„",
                call: "Ø§ØªØµØ§Ù„ Ù‡Ø§ØªÙÙŠ",
                chat: "Ù…Ø­Ø§Ø¯Ø«Ø© ÙˆØ§ØªØ³Ø§Ø¨",
                mail: "Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",
                visits: "Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¹Ø¯Ø¯ Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª"
            },
            en: {
                title: "Mustafa Auto Parts",
                slogan: "Trust Mustafa for high-quality auto parts ensuring safety and quality.",
                address: "Al Adala St, Azib Haj Kaddour, Tangier, Morocco",
                workTime: "Open from 09:00 to 20:00 - All week",
                phone: "+212 668 343 724",
                save: "Save Contact",
                call: "Phone Call",
                chat: "WhatsApp Chat",
                mail: "Email",
                visits: "Total Visits"
            },
            fr: {
                title: "PiÃ¨ces Auto Mustafa",
                slogan: "Choisissez des piÃ¨ces fiables garantissant sÃ©curitÃ© et qualitÃ©.",
                address: "Rue Al Adala, Azib Haj Kaddour, Tanger, Maroc",
                workTime: "Ouvert de 09h00 Ã  20h00 - Tous les jours",
                phone: "+212 668 343 724",
                save: "Enregistrer le contact",
                call: "Appel tÃ©lÃ©phonique",
                chat: "Chat WhatsApp",
                mail: "E-mail",
                visits: "Visites totales"
            },
            es: {
                title: "Piezas Auto Mustafa",
                slogan: "ConfÃ­e en Mustafa para repuestos de haute qualitÃ© et sÃ©curitÃ©.",
                address: "Calle Al Adala, Azib Haj Kaddour, TÃ¡nger, Marruecos",
                workTime: "Abierto de 09:00 a 20:00 - Toda la semana",
                phone: "+212 668 343 724",
                save: "Guardar contacto",
                call: "Llamada telefÃ³nica",
                chat: "Chat de WhatsApp",
                mail: "Correo electrÃ³nico",
                visits: "Visitas totales"
            }
        };

        let currentSlide = 0;
        let offersData = [];
        let sliderInterval = null;
        let deferredPrompt = null;
        let isOnline = navigator.onLine;

        // ============ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø© ============
        document.addEventListener('DOMContentLoaded', async () => {
            console.log('âœ… DOM loaded');
            
            // Ø¥ØµÙ„Ø§Ø­ Ø³Ø±ÙŠØ¹ Ù„Ù„Ø¹Ø±Ø¶
            document.body.style.height = '100vh';
            document.body.style.overflow = 'auto';
            
            // ØªØ­Ù…ÙŠÙ„ Firebase
            await loadFirebase();
            
            // Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ù„ØºØ©
            restoreLanguage();
            
            // ØªÙ‡ÙŠØ¦Ø© Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„
            updateWorkTimeStatus();
            setInterval(updateWorkTimeStatus, 60000);
            
            // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙˆØ±
            initializeImages();
            
            // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„ØªÙØ§Ø¹Ù„
            document.querySelectorAll('.action-btn, .social-icon').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = '';
                    }, 150);
                });
            });
            
            // Ù…ØªØ§Ø¨Ø¹Ø© Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„
            window.addEventListener('online', handleOnline);
            window.addEventListener('offline', handleOffline);
            
            // ØªØ­Ù…ÙŠÙ„ Ù…Ø­Ø³Ù† Ù„Ù„ØµÙˆØ±
            initializeLazyLoading();
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø£ÙˆÙ„ÙŠ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„
            updateConnectionStatus();
            
            // ØªÙ‡ÙŠØ¦Ø© PWA
            initializePWA();
            
            // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
            loadFallbackData();
            
            // ØªÙ‡ÙŠØ¦Ø© Firebase Ø¨Ø¹Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„
            setTimeout(() => {
                initializeFirebase();
            }, 500);
            
            // ØªÙ‡ÙŠØ¦Ø© Ø²Ø± Ø­ÙØ¸ Ø¬Ù‡Ø© Ø§Ù„Ø§ØªØµØ§Ù„
            initializeSaveContact();
        });

        // ============ ØªÙ‡ÙŠØ¦Ø© Firebase ============
        async function initializeFirebase() {
            try {
                if (firebaseFunctions && firebaseFunctions.initFirebase) {
                    await firebaseFunctions.initFirebase();
                    await firebaseFunctions.incrementVisit();
                    await firebaseFunctions.loadOffers();
                    await firebaseFunctions.loadQR();
                }
            } catch (error) {
                console.error('âŒ Error initializing Firebase:', error);
            }
        }

        // ============ ØªÙ‡ÙŠØ¦Ø© PWA ============
        function initializePWA() {
            // Service Worker
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('./sw.js')
                    .then(reg => {
                        console.log('âœ… Service Worker registered:', reg.scope);
                    })
                    .catch(err => {
                        console.log('âŒ Service Worker failed:', err);
                    });
            }

            // Install Prompt
            window.addEventListener('beforeinstallprompt', (e) => {
                e.preventDefault();
                deferredPrompt = e;
                showInstallButton();
            });

            // App Installed
            window.addEventListener('appinstalled', (evt) => {
                console.log('ğŸ‰ App installed successfully');
                hideInstallButton();
                trackInstallInFirebase();
            });

            // Check if already installed
            if (window.matchMedia('(display-mode: standalone)').matches) {
                console.log('ğŸ“± Running in standalone mode');
                hideInstallButton();
            }
        }

        function showInstallButton() {
            const installBtn = document.getElementById('installBtn');
            if (installBtn) {
                setTimeout(() => {
                    installBtn.classList.add('show');
                }, 1000);
                
                installBtn.addEventListener('click', handleInstallClick);
            }
        }

        function hideInstallButton() {
            const installBtn = document.getElementById('installBtn');
            if (installBtn) {
                installBtn.classList.remove('show');
            }
        }

        async function handleInstallClick() {
            if (!deferredPrompt) {
                showToast('ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ØºÙŠØ± Ù…ØªØ§Ø­ Ø­Ø§Ù„ÙŠØ§Ù‹', 'warning');
                return;
            }

            try {
                deferredPrompt.prompt();
                const { outcome } = await deferredPrompt.userChoice;
                
                if (outcome === 'accepted') {
                    console.log('âœ… User accepted install');
                    showToast('Ø¬Ø§Ø±ÙŠ ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚...', 'success');
                } else {
                    console.log('âŒ User declined install');
                    showToast('ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ«Ø¨ÙŠØª', 'info');
                }
                
                deferredPrompt = null;
            } catch (error) {
                console.error('âŒ Install error:', error);
                showToast('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ«Ø¨ÙŠØª', 'error');
            }
        }

        // ============ Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ============
        function updateConnectionStatus() {
            const indicator = document.getElementById('connectionIndicator');
            if (!indicator) return;
            
            isOnline = navigator.onLine;
            
            if (isOnline) {
                indicator.style.display = 'flex';
                indicator.innerHTML = '<i class="fas fa-wifi"></i><span>Ù…ØªØµÙ„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª</span>';
                indicator.className = 'connection-indicator online';
                
                // Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù†Ø¯ Ø§Ù„Ø§ØªØµØ§Ù„
                setTimeout(() => {
                    if (firebaseFunctions && firebaseFunctions.loadOffers) {
                        firebaseFunctions.loadOffers();
                    }
                }, 1000);
                
                // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù…Ø¤Ø´Ø± Ø¨Ø¹Ø¯ 3 Ø«ÙˆØ§Ù†ÙŠ
                setTimeout(() => {
                    indicator.style.display = 'none';
                }, 3000);
            } else {
                indicator.style.display = 'flex';
                indicator.innerHTML = '<i class="fas fa-wifi-slash"></i><span>Ø¯ÙˆÙ† Ø§ØªØµØ§Ù„</span>';
                indicator.className = 'connection-indicator';
            }
        }

        function handleOnline() {
            console.log('ğŸŒ Online');
            updateConnectionStatus();
        }

        function handleOffline() {
            console.log('âš ï¸ Offline');
            updateConnectionStatus();
        }

        function initializeImages() {
            const logoImg = document.querySelector('.logo img');
            if (logoImg) {
                logoImg.onload = () => {
                    logoImg.classList.add('loaded');
                };
                
                // Fallback Ø¥Ø°Ø§ ÙØ´Ù„ Ø§Ù„ØªØ­Ù…ÙŠÙ„
                logoImg.onerror = () => {
                    console.warn('âš ï¸ Logo failed to load');
                    logoImg.src = 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="150" height="150" viewBox="0 0 100 100"><rect width="100" height="100" fill="%230a4f57" rx="50"/><text x="50" y="50" font-family="Arial" font-size="40" fill="white" text-anchor="middle" dy=".3em">MA</text></svg>';
                    logoImg.classList.add('loaded');
                };
            }
        }

        function initializeLazyLoading() {
            if ('IntersectionObserver' in window) {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const img = entry.target;
                            img.src = img.dataset.src || img.src;
                            observer.unobserve(img);
                        }
                    });
                });
                
                document.querySelectorAll('img[loading="lazy"]').forEach(img => {
                    observer.observe(img);
                });
            }
        }

        // ============ Ø§Ù„ØªØ±Ø¬Ù…Ø© ============
        window.setLang = function(lang) {
            const t = translations[lang];
            if (!t) {
                console.error('âŒ Language not found:', lang);
                return;
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†ØµÙˆØµ
            const elements = {
                'title': document.getElementById("title"),
                'slogan': document.getElementById("slogan"),
                'address': document.getElementById("address"),
                'work-time': document.getElementById("work-time"),
                'phone': document.getElementById("phone"),
                'btn-save': document.getElementById("btn-save"),
                'btn-call': document.getElementById("btn-call"),
                'btn-chat': document.getElementById("btn-chat"),
                'btn-mail': document.getElementById("btn-mail"),
                'txt-visits': document.getElementById("txt-visits")
            };
            
            for (const [key, element] of Object.entries(elements)) {
                if (element && t[key]) {
                    element.textContent = t[key];
                }
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù†Øµ
            document.documentElement.dir = (lang === 'ar') ? 'rtl' : 'ltr';
            document.documentElement.lang = lang;
            
            // ØªØ­Ø¯ÙŠØ« Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù„ØºØ©
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Ø­ÙØ¸ Ø§Ù„Ù„ØºØ©
            localStorage.setItem('preferredLang', lang);
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø¥Ø´Ø¹Ø§Ø±
            const langNames = {
                'ar': 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©',
                'en': 'Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©',
                'fr': 'Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©',
                'es': 'Ø§Ù„Ø¥Ø³Ø¨Ø§Ù†ÙŠØ©'
            };
            showToast(`ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„Ù„ØºØ© Ø¥Ù„Ù‰ ${langNames[lang]}`, 'success');
        };

        function restoreLanguage() {
            const savedLang = localStorage.getItem('preferredLang') || 'ar';
            const langBtn = document.querySelector(`.lang-btn[onclick*="${savedLang}"]`);
            if (langBtn) {
                langBtn.click();
            }
        }

        // ============ Ø¯ÙˆØ§Ù„ Ù…ØªÙ†ÙˆØ¹Ø© ============
        window.copyToClipboard = function(text) {
            if (!navigator.clipboard) {
                fallbackCopy(text);
                return;
            }
            
            navigator.clipboard.writeText(text)
                .then(() => {
                    showToast("ØªÙ… Ù†Ø³Ø® Ø§Ù„Ù†Øµ Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©! ğŸ“‹", "success");
                })
                .catch(() => {
                    fallbackCopy(text);
                });
        };

        function fallbackCopy(text) {
            const textArea = document.createElement('textarea');
            textArea.value = text;
            textArea.style.position = 'fixed';
            textArea.style.opacity = '0';
            document.body.appendChild(textArea);
            textArea.select();
            
            try {
                document.execCommand('copy');
                showToast("ØªÙ… Ø§Ù„Ù†Ø³Ø® Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©", "success");
            } catch (err) {
                showToast("ØªØ¹Ø°Ø± Ø§Ù„Ù†Ø³Ø®ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰", "error");
            }
            
            document.body.removeChild(textArea);
        }

        function initializeSaveContact() {
            const saveContactBtn = document.getElementById("saveContactBtn");
            if (saveContactBtn) {
                saveContactBtn.addEventListener('click', saveContact);
            }
        }

        function saveContact(e) {
            e.preventDefault();
            
            const vcard = `BEGIN:VCARD
VERSION:3.0
FN:Mustafa Auto Parts
N:Auto Parts;Mustafa;;;
ORG:PiÃ¨ces Mustafa;
TITLE:Ù…ØªØ¬Ø± Ù‚Ø·Ø¹ ØºÙŠØ§Ø± Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª
TEL;TYPE=CELL,VOICE:+212668343724
EMAIL;TYPE=WORK,INTERNET:Piecemustafa9@gmail.com
ADR;TYPE=WORK,PREF:;;Rue Al Adala, Azib Haj Kaddour;Tanger;;14000;Morocco
URL:https://piecesmustafa.netlify.app/
URL;TYPE=MAPS:https://maps.app.goo.gl/AzCbaMsazhzKSiCd9
NOTE:Ù‚Ø·Ø¹ ØºÙŠØ§Ø± Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª Ù…ØµØ·ÙÙ‰ - Ø¬ÙˆØ¯Ø© ÙˆØ£Ù…Ø§Ù†
X-SOCIALPROFILE;TYPE=facebook:https://www.facebook.com/profile.php?id=61562492412368
X-SOCIALPROFILE;TYPE=instagram:https://www.instagram.com/piecemustafa
X-SOCIALPROFILE;TYPE=tiktok:https://www.tiktok.com/@piecemustafa
X-SOCIALPROFILE;TYPE=youtube:https://youtube.com/@piecemustafa
REV:${new Date().toISOString()}
END:VCARD`;
            
            try {
                const blob = new Blob([vcard], { type: "text/vcard;charset=utf-8" });
                const url = URL.createObjectURL(blob);
                const link = document.createElement("a");
                link.href = url;
                link.download = "Mustafa_Auto_Parts.vcf";
                link.style.display = "none";
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                URL.revokeObjectURL(url);
                
                showToast("ØªÙ… Ø­ÙØ¸ Ø¬Ù‡Ø© Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù†Ø¬Ø§Ø­! ğŸ‘¤", "success");
            } catch (error) {
                console.error('âŒ Error saving contact:', error);
                showToast("ØªØ¹Ø°Ø± Ø­ÙØ¸ Ø¬Ù‡Ø© Ø§Ù„Ø§ØªØµØ§Ù„", "error");
            }
        }

        function showToast(message, type = 'info') {
            const toast = document.getElementById("toast");
            if (!toast) return;
            
            toast.textContent = message;
            
            const colors = {
                'success': '#4CAF50',
                'error': '#ff4d4d',
                'warning': '#ff9900',
                'info': 'var(--accent)'
            };
            
            toast.style.background = colors[type] || colors.info;
            toast.classList.add("show");
            
            setTimeout(() => {
                toast.classList.remove("show");
            }, 3000);
        }

        // ============ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø±ÙˆØ¶ ============
        window.loadOffersCallback = function(offers) {
            offersData = offers || [];
            const container = document.getElementById("offersContainer");
            const dotsContainer = document.getElementById("sliderDots");
            
            if (!container) return;
            
            if (offersData.length === 0) {
                container.innerHTML = `
                    <div class="offer-card">
                        <div class="offer-text">
                            ğŸ‰ Ø®ØµÙˆÙ…Ø§Øª ØªØµÙ„ Ø¥Ù„Ù‰ 30% Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ù‚Ø·Ø¹ Ø§Ù„ØºÙŠØ§Ø± Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹!
                            <br><small>Ø§Ø³ØªÙØ³Ø± Ø§Ù„Ø¢Ù† Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±</small>
                        </div>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = '';
            dotsContainer.innerHTML = '';
            
            offersData.forEach((offer, index) => {
                const slide = document.createElement("div");
                slide.className = "offer-card";
                slide.innerHTML = `
                    <div class="offer-text">
                        ${offer.text || 'Ø¹Ø±Ø¶ Ø®Ø§Øµ'}
                        ${offer.expiresAt ? `<br><small>ğŸ“… ÙŠÙ†ØªÙ‡ÙŠ ÙÙŠ: ${new Date(offer.expiresAt).toLocaleDateString('ar-SA')}</small>` : ''}
                    </div>
                `;
                container.appendChild(slide);
                
                const dot = document.createElement("button");
                dot.className = `slider-dot ${index === 0 ? 'active' : ''}`;
                dot.setAttribute('aria-label', `Ø¹Ø±Ø¶ ${index + 1} Ù…Ù† ${offersData.length}`);
                dot.addEventListener('click', () => goToSlide(index));
                dotsContainer.appendChild(dot);
            });
            
            if (offersData.length > 1) {
                startAutoSlider();
            }
        };

        function goToSlide(index) {
            if (!offersData.length) return;
            
            currentSlide = index;
            const container = document.getElementById("offersContainer");
            const dots = document.querySelectorAll(".slider-dot");
            
            if (container) {
                container.style.transform = `translateX(-${index * 100}%)`;
            }
            
            dots.forEach((dot, i) => {
                dot.classList.toggle("active", i === index);
            });
            
            resetAutoSlider();
        }

        function startAutoSlider() {
            if (offersData.length <= 1) return;
            
            if (sliderInterval) {
                clearInterval(sliderInterval);
            }
            
            sliderInterval = setInterval(() => {
                currentSlide = (currentSlide + 1) % offersData.length;
                goToSlide(currentSlide);
            }, 5000);
        }

        function resetAutoSlider() {
            if (sliderInterval) {
                clearInterval(sliderInterval);
                startAutoSlider();
            }
        }

        // ============ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ============
        window.updateVisitCounter = function(count) {
            const counter = document.getElementById("visits");
            if (!counter) return;
            
            const duration = 1000;
            const start = parseInt(counter.textContent.replace(/,/g, '')) || 0;
            const end = count || start;
            const increment = (end - start) / (duration / 16);
            
            let current = start;
            const timer = setInterval(() => {
                current += increment;
                if ((increment > 0 && current >= end) || (increment < 0 && current <= end)) {
                    current = end;
                    clearInterval(timer);
                }
                counter.textContent = Math.floor(current).toLocaleString();
            }, 16);
        };

        window.updateQRCode = function(qrUrl) {
            const qrImg = document.getElementById("qr");
            if (qrImg) {
                qrImg.src = qrUrl || "https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://piecesmustafa.netlify.app/";
            }
        };

        // ============ Ø¯ÙˆØ§Ù„ Ù…ØªÙ†ÙˆØ¹Ø© ============
        function updateWorkTimeStatus() {
            const now = new Date();
            const day = now.getDay();
            const hour = now.getHours();
            const minute = now.getMinutes();
            const currentTime = hour * 60 + minute;
            
            const workTimeElement = document.getElementById("work-time");
            const nextOpeningElement = document.getElementById("next-opening");
            
            if (!workTimeElement) return;
            
            const opensAtWeekday = 9 * 60;
            const closesAtWeekday = 20 * 60;
            const opensAtSaturday = 9 * 60;
            const closesAtSaturday = 16 * 60;
            const fridayPrayerClose = 12 * 60 + 15;
            const fridayReopen = 15 * 60;
            
            let isOpen = false;
            let statusText = '';
            let nextOpening = '';
            
            if (day === 0) {
                statusText = 'Ù…ØºÙ„Ù‚ - ÙŠÙˆÙ… Ø§Ù„Ø£Ø­Ø¯';
                nextOpening = 'ÙŠÙØªØ­ ØºØ¯Ø§Ù‹ Ø§Ù„Ø¥Ø«Ù†ÙŠÙ† Ø§Ù„Ø³Ø§Ø¹Ø© 09:00';
            }
            else if (day === 6) {
                if (currentTime >= opensAtSaturday && currentTime < closesAtSaturday) {
                    isOpen = true;
                    statusText = 'Ù…ÙØªÙˆØ­ Ø§Ù„Ø¢Ù† - ÙŠÙˆÙ… Ø§Ù„Ø³Ø¨Øª Ù…Ù† 09:00 Ø¥Ù„Ù‰ 16:00';
                    nextOpening = 'ÙŠØºÙ„Ù‚ Ø§Ù„Ø³Ø§Ø¹Ø© 16:00';
                } else if (currentTime < opensAtSaturday) {
                    statusText = 'Ù…ØºÙ„Ù‚ Ø§Ù„Ø¢Ù† - ÙŠÙˆÙ… Ø§Ù„Ø³Ø¨Øª Ù…Ù† 09:00 Ø¥Ù„Ù‰ 16:00';
                    nextOpening = 'ÙŠÙØªØ­ Ø§Ù„Ø³Ø§Ø¹Ø© 09:00';
                } else {
                    statusText = 'Ù…ØºÙ„Ù‚ - ÙŠÙˆÙ… Ø§Ù„Ø³Ø¨Øª Ù…Ù† 09:00 Ø¥Ù„Ù‰ 16:00';
                    nextOpening = 'Ù…ØºÙ„Ù‚ Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø£Ø­Ø¯ ÙŠÙØªØ­ Ø§Ù„Ø¥Ø«Ù†ÙŠÙ† 09:00';
                }
            }
            else if (day === 5) {
                if (currentTime >= opensAtWeekday && currentTime < fridayPrayerClose) {
                    isOpen = true;
                    statusText = 'Ù…ÙØªÙˆØ­ Ø§Ù„Ø¢Ù† - ÙŠØºÙ„Ù‚ Ø§Ù„Ø³Ø§Ø¹Ø© 12:15 (Ù‚Ø¨Ù„ ØµÙ„Ø§Ø© Ø§Ù„Ø¬Ù…Ø¹Ø©)';
                    nextOpening = 'ÙŠØ¹ÙˆØ¯ Ù„Ù„ÙØªØ­ Ø§Ù„Ø³Ø§Ø¹Ø© 15:00';
                } else if (currentTime >= fridayReopen && currentTime < closesAtWeekday) {
                    isOpen = true;
                    statusText = 'Ù…ÙØªÙˆØ­ Ø§Ù„Ø¢Ù† - Ø§Ù„Ø¬Ù…Ø¹Ø© Ù…Ù† 09:00 Ø¥Ù„Ù‰ 20:00';
                    nextOpening = 'ÙŠØºÙ„Ù‚ Ø§Ù„Ø³Ø§Ø¹Ø© 20:00';
                } else if (currentTime >= fridayPrayerClose && currentTime < fridayReopen) {
                    statusText = 'Ù…ØºÙ„Ù‚ Ù„Ù„ØµÙ„Ø§Ø© - Ø§Ù„Ø¬Ù…Ø¹Ø© Ù…Ù† 09:00 Ø¥Ù„Ù‰ 20:00';
                    nextOpening = 'ÙŠÙØªØ­ Ø§Ù„Ø³Ø§Ø¹Ø© 15:00';
                } else {
                    statusText = 'Ù…ØºÙ„Ù‚ - Ø§Ù„Ø¬Ù…Ø¹Ø© Ù…Ù† 09:00 Ø¥Ù„Ù‰ 20:00';
                    nextOpening = 'ÙŠÙØªØ­ ØºØ¯Ø§Ù‹ Ø§Ù„Ø³Ø¨Øª Ø§Ù„Ø³Ø§Ø¹Ø© 09:00';
                }
            }
            else if (day >= 1 && day <= 4) {
                if (currentTime >= opensAtWeekday && currentTime < closesAtWeekday) {
                    isOpen = true;
                    statusText = 'Ù…ÙØªÙˆØ­ Ø§Ù„Ø¢Ù† - Ù…Ù† 09:00 Ø¥Ù„Ù‰ 20:00';
                    nextOpening = 'ÙŠØºÙ„Ù‚ Ø§Ù„Ø³Ø§Ø¹Ø© 20:00';
                } else if (currentTime < opensAtWeekday) {
                    statusText = 'Ù…ØºÙ„Ù‚ Ø§Ù„Ø¢Ù† - Ù…Ù† 09:00 Ø¥Ù„Ù‰ 20:00';
                    nextOpening = 'ÙŠÙØªØ­ Ø§Ù„Ø³Ø§Ø¹Ø© 09:00';
                } else {
                    statusText = 'Ù…ØºÙ„Ù‚ - Ù…Ù† 09:00 Ø¥Ù„Ù‰ 20:00';
                    nextOpening = 'ÙŠÙØªØ­ ØºØ¯Ø§Ù‹ Ø§Ù„Ø³Ø§Ø¹Ø© 09:00';
                }
            }
            
            const statusIcon = isOpen ? 'ğŸŸ¢' : 'ğŸ”´';
            workTimeElement.innerHTML = `${statusIcon} ${statusText}`;
            
            if (nextOpeningElement) {
                nextOpeningElement.textContent = nextOpening;
            }
            
            workTimeElement.style.color = isOpen ? '#2ecc71' : '#e74c3c';
        }

        // ============ Ø¯ÙˆØ§Ù„ Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Firebase ============
        async function trackInstallInFirebase() {
            try {
                if (firebaseFunctions && firebaseFunctions.incrementInstall) {
                    const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
                    const deviceType = isMobile ? 'mobile' : 'desktop';
                    
                    await firebaseFunctions.incrementInstall(deviceType);
                    console.log(`âœ… Install tracked for ${deviceType}`);
                    
                    showToast('ØªÙ… ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¨Ù†Ø¬Ø§Ø­! ğŸ‰', 'success');
                }
            } catch (error) {
                console.error('âŒ Error tracking install:', error);
            }
        }

        // ============ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© ============
        function loadFallbackData() {
            const fallbackOffers = [
                {
                    id: "default_1",
                    text: "ğŸ‰ Ø®ØµÙ… Ø®Ø§Øµ 25% Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ù‚Ø·Ø¹ Ø§Ù„ØºÙŠØ§Ø± Ø§Ù„ÙŠØ§Ø¨Ø§Ù†ÙŠØ© Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹!",
                    active: true,
                    category: "discount"
                },
                {
                    id: "default_2", 
                    text: "ğŸ”§ ÙØ­Øµ Ù…Ø¬Ø§Ù†ÙŠ Ù„Ù„Ø³ÙŠØ§Ø±Ø© Ù…Ø¹ Ø£ÙŠ ØµÙŠØ§Ù†Ø© Ø¨Ù‚ÙŠÙ…Ø© ÙÙˆÙ‚ 300 Ø¯Ø±Ù‡Ù…",
                    active: true,
                    category: "service"
                }
            ];
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±ÙˆØ¶
            if (window.loadOffersCallback) {
                window.loadOffersCallback(fallbackOffers);
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª
            try {
                const localVisits = JSON.parse(localStorage.getItem('mustafa_visits_local') || '{"total":1}');
                if (window.updateVisitCounter) {
                    window.updateVisitCounter(localVisits.total || 1);
                }
            } catch (e) {
                console.log("âš ï¸ Could not load local visits");
            }
            
            // ØªØ­Ø¯ÙŠØ« QR Code
            const qrImg = document.getElementById("qr");
            if (qrImg && !qrImg.src) {
                qrImg.src = "https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://piecesmustafa.netlify.app/";
            }
        }
    </script>
</body>
</html>
